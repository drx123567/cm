<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    :root{
      --main: #7c3aed;
      --main-2:#22d3ee;
      --bg: #0b0c10;
      --card: #121621;
      --card-2:#0e121b;
      --text: #e9ecf1;
      --sub: #9aa3b2;
      --border: #252a3a;
      --radius: 14px;
      --shadow: 0 12px 34px rgba(0,0,0,.45);
      --ok:#10b981;
      --err:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 560px at 80% -10%, rgba(124,58,237,.18), transparent 60%),
        radial-gradient(760px 480px at -10% 10%, rgba(34,211,238,.14), transparent 60%),
        #0b0c10;
      padding: 40px 20px;
    }

    .card{
      background: linear-gradient(180deg, var(--card) 0%, var(--card-2) 100%);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      max-width: 980px;
      margin: auto;
      padding: 28px;
      box-shadow: var(--shadow);
    }

    header.app{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px }
    .brand{ display:flex; align-items:center; gap:12px; font-weight:700 }
    .brand small{ display:block; font-weight:600; color:var(--sub) }

    h1{
      font-size: 1.7rem;
      margin: 6px 0 10px;
      color: var(--text);
    }
    .lead{ color:var(--sub); margin-top:0 }

    .step{
      margin-bottom: 14px;
      line-height: 1.6;
      border:1px solid var(--border);
      background:#0e121b;
      padding:14px;
      border-radius: 12px;
    }
    .step span{
      display:inline-flex; align-items:center; gap:8px;
      min-width: 90px; font-weight: 700; color: var(--main);
      text-transform: uppercase; letter-spacing:.3px;
    }
    a{ color:#8b5cf6; text-decoration:none }
    a:hover{ text-decoration:underline }

    .images{
      display:flex; gap:16px; flex-wrap:wrap; justify-content:flex-start;
      margin:18px 0;
    }
    .images img{
      width:180px; aspect-ratio: 4/3; object-fit:cover;
      border: 1px solid var(--border); border-radius: 12px;
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .images img:hover{ transform: translateY(-2px) scale(1.01); box-shadow:0 8px 22px rgba(0,0,0,.35) }

    .img-full{
      margin-top: 16px;
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      background:#0c0f16;
    }
    .img-full img{ width:100%; display:block }

    .copy-box{
      margin-top: 18px;
      text-align: left;
      border-top: 1px dashed var(--border);
      padding-top: 18px;
    }
    .copy-text{ color:var(--sub); margin-bottom: 12px }

    textarea#cookieBox{
      width:100%; height:160px; resize:vertical;
      background:#0c0f16; color:#e6ebf5; border:1px solid var(--border);
      border-radius:12px; padding:12px 14px; font-family: ui-monospace, Menlo, Consolas, monospace; line-height:1.45;
      display:block;
    }

    .btn{
      appearance:none; border:1px solid var(--border); background:#182033; color:var(--text);
      padding:12px 16px; border-radius: 10px; cursor:pointer; font-weight:600;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
    }
    .btn:hover{ background:#1b2440 }
    .btn:active{ transform: translateY(1px) }
    .btn.primary{ background: linear-gradient(90deg, var(--main), #a855f7); border-color:transparent }
    .btn.danger{ background:#2a1518; border-color:#3a1a1f; color:#ffc7c7 }
    .actions{ display:flex; gap:10px; flex-wrap:wrap }

    .update{ margin-top:12px; color:var(--sub); text-align:left }

    /* Top notification bar (repurposed as toast anchor) */
    .notify-bar{
      position: fixed;
      left: 50%;
      bottom: 26px;
      transform: translateX(-50%) translateY(10px);
      background: #0f1422;
      color: white;
      padding: 12px 16px;
      border-radius: 10px;
      border:1px solid var(--border);
      box-shadow: var(--shadow);
      font-size: 0.95rem;
      z-index: 10000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }
    .notify-bar.show{
      opacity: 1;
      pointer-events: auto;
      transform: translateX(-50%) translateY(0);
    }

    .logout-container{ text-align:right; margin-bottom:10px }

    /* Login overlay */
    .login-overlay{
      position: fixed; inset: 0; display:grid; place-items:center; z-index: 9999;
      background: radial-gradient(600px 300px at 20% 10%, rgba(124,58,237,.20), transparent 60%),
                  radial-gradient(600px 300px at 80% 90%, rgba(34,211,238,.14), transparent 60%),
                  rgba(6,8,12,.84);
      backdrop-filter: blur(6px);
    }
    .login-box{
      background: linear-gradient(180deg, #15192a, #0f1422);
      padding: 26px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      width: 92%;
      max-width: 420px;
      border:1px solid var(--border);
      text-align: left;
      animation: pop .16s ease-out both;
    }
    @keyframes pop{ from{ transform:scale(.98); opacity:0 } to{ transform:scale(1); opacity:1 } }
    .login-title{ font-size: 1.45rem; margin-bottom: 6px }
    .login-desc{ font-size: 0.98rem; color: var(--sub); margin-bottom: 14px }
    .input-icon{ position:relative; width:100%; margin-bottom: 14px }
    .input-icon .icon{ position:absolute; top:50%; left:12px; transform:translateY(-50%); color:#7b8192; font-size:16px }
    .input-icon input{
      width:100%; padding: 12px 12px 12px 38px;
      border:1px solid var(--border); border-radius: 12px;
      background:#0c0f16; color:white; font-size:1rem; outline:none;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    .input-icon input:focus{ border-color:#334155; box-shadow:0 0 0 4px rgba(124,58,237,.15) }
    .checkbox{ margin: 6px 0 2px; color:var(--sub) }
    .login-box button{ width:100%; margin-top: 10px }
    .message{ margin-top: 10px; min-height: 20px; font-size: 0.95rem; color: var(--sub) }

    /* Hide main until login */
    #mainContent{ display:none }
  </style>
</head>

<body>

<div id="notifyBar" class="notify-bar" role="status" aria-live="polite"></div>

<!-- Login Overlay -->
<div class="login-overlay" id="loginOverlay" aria-modal="true" role="dialog" aria-labelledby="loginTitle">
  <div class="login-box">
    <h2 class="login-title" id="loginTitle">Welcome Back</h2>
    <p class="login-desc">Please enter your license key to continue.</p>

    <div class="input-icon">
      <i class="fas fa-key icon"></i>
      <input type="text" id="loginCode" placeholder="license-xxxxx-xxxxx" autocomplete="off" autocorrect="off" spellcheck="false" />
    </div>

    <div class="checkbox">
      <label class="custom-checkbox">
        <input type="checkbox" id="rememberCheck" />
        <span class="label-text">Remember me</span>
      </label>
    </div>

    <button class="btn primary" onclick="validateLogin()"><i class="fa-solid fa-right-to-bracket"></i> Login</button>
    <div class="message" id="loginMessage"></div>

    <p class="update" style="margin-top:10px">Need a license? Replace this with your legitimate purchase link.</p>
  </div>
</div>

<!-- Main content -->
<div class="card" id="mainContent">
  <div class="logout-container">
    <div class="actions">
      <button class="btn" id="lastUpdatedBtn" title="Last updated"><i class="fa-regular fa-clock"></i> <span id="dateNow">—</span></button>
      <button class="btn danger" onclick="logout()"><i class="fa-solid fa-lock"></i> Logout</button>
    </div>
  </div>

  <header class="app">
    <div class="brand">
      <i class="fa-solid fa-shield-halved" style="color:var(--main-2)"></i>
      <div>Portal <small>Clean • Modern • Accessible</small></div>
    </div>
  </header>

  <h1>Quick Start</h1>
  <p class="lead">Follow these steps to set up your tool. Replace the content with your own lawful guide.</p>

  <div class="step"><span><i class="fa-solid fa-1"></i> Step 1:</span> Install your required browser extension or helper (if applicable), and describe what it does.</div>
  <div class="step"><span><i class="fa-solid fa-2"></i> Step 2:</span> Go to your dashboard and sign in with your account.</div>
  <div class="step"><span><i class="fa-solid fa-3"></i> Step 3:</span> Import your own safe, legal configuration data.</div>

  <div class="images">
    <img src="https://images.unsplash.com/photo-1515879218367-8466d910aaa4?q=80&w=600&auto=format&fit=crop" alt="Preview 1" />
    <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=600&auto=format&fit=crop" alt="Preview 2" />
  </div>

  <div class="img-full">
    <img src="https://images.unsplash.com/photo-1555421689-43cad7100751?q=80&w=1200&auto=format&fit=crop" alt="Full preview" />
  </div>

  <div class="copy-box">
    <p class="copy-text">Click the button to copy your <strong>sample data</strong> (placeholder). You’ll see a success pop-up.</p>
    <div class="actions" style="margin-bottom:10px">
      <button class="btn primary" onclick="copyFromSite()"><i class="fa-regular fa-clipboard"></i> Copy to Clipboard</button>
    </div>
    <textarea id="cookieBox" aria-label="Sample data for copy">{
  "name": "Your App",
  "exported_at": "2025-09-21T00:00:00Z",
  "data": [
    {"id": 1, "label": "Example A"},
    {"id": 2, "label": "Example B"}
  ]
}</textarea>
  </div>

  <div class="update" id="lastUpdate">
    Updated and checked at: <span id="updatedAtText">Loading…</span>
  </div>
</div>

<script>
  // ---------- Helpers ----------
  const $ = (sel) => document.querySelector(sel);

  function showNotify(msg, isError=false){
    const bar = $('#notifyBar');
    bar.textContent = msg || (isError ? 'Something went wrong' : 'Done');
    bar.style.borderColor = isError ? '#3a1a1f' : 'var(--border)';
    bar.classList.add('show');
    clearTimeout(showNotify._t);
    showNotify._t = setTimeout(()=> bar.classList.remove('show'), 1800);
  }

  // ---------- Login ----------
  const KEY_REGEX = /^license-[a-zA-Z0-9]{5}-[a-zA-Z0-9]{5}$/;

  function validateLogin(){
    const input = $('#loginCode');
    const remember = $('#rememberCheck').checked;
    const msg = $('#loginMessage');

    const val = (input.value || '').trim();
    if(!val){
      msg.textContent = 'Enter your license key.';
      return;
    }
    if(!KEY_REGEX.test(val)){
      msg.textContent = 'Format should look like: license-abc12-xyz34';
      return;
    }
    msg.textContent = '';

    try{
      if(remember) localStorage.setItem('portal_license', val);
      else localStorage.removeItem('portal_license');
    }catch{}

    // Enter app
    $('#loginOverlay').style.display = 'none';
    $('#mainContent').style.display = '';
    showNotify('Logged in');
    updateTime();
  }

  function tryAutoLogin(){
    try{
      const k = localStorage.getItem('portal_license');
      if(k && KEY_REGEX.test(k)){
        $('#loginOverlay').style.display = 'none';
        $('#mainContent').style.display = '';
        updateTime();
      }
    }catch{}
  }

  function logout(){
    try{ localStorage.removeItem('portal_license'); }catch{}
    location.reload();
  }

  // ---------- Copy to clipboard ----------
  async function copyFromSite(){
    const txt = $('#cookieBox').value;
    try{
      await navigator.clipboard.writeText(txt);
      showNotify('Copied to clipboard');
    }catch(e){
      // Fallback
      const ta = document.createElement('textarea');
      ta.value = txt;
      document.body.appendChild(ta);
      ta.select();
      try{
        document.execCommand('copy');
        showNotify('Copied to clipboard');
      }catch{
        showNotify('Copy failed', true);
      }finally{
        document.body.removeChild(ta);
      }
    }
  }

  // ---------- Last updated ----------
  function updateTime(){
    const now = new Date();
    $('#dateNow').textContent = now.toLocaleString();
    $('#updatedAtText').textContent = now.toLocaleString();
  }

  // ---------- Init ----------
  document.addEventListener('DOMContentLoaded', ()=>{
    // keyboard enter on login
    $('#loginCode').addEventListener('keydown', (e)=> { if(e.key==='Enter') validateLogin(); });
    tryAutoLogin();
    updateTime();
  });
</script>
</body>
</html>
